model Task {
    id         Int      @id @default(autoincrement())
    createDate DateTime @default(now())
    updateDate DateTime @default(now()) @updatedAt

    type      TaskType
    payload   Json?
    status    TaskStatus @default(PENDING) // pending | running | done | failed
    result    Json?
    error     String?
    startTime DateTime?
    endTime   DateTime?

    taskLoopId Int?
    taskLoop   TaskLoop? @relation(fields: [taskLoopId], references: [id])

    @@map("task")
}

enum TaskType {
    COLLECT_TRAFFIC_SOURCE_DATA
}

enum TaskStatus {
    PENDING
    RUNNING
    FAILED
    DONE
}
